* СУБД MySQl

**MySQl** - свободная реляционная СУБД
Распростаняется под лицензией GNU GPL

Входит в состав серверов wamp, appserv, lamp, денвер, xampp

Архитектура - клиент-сервер

MySql написана на С и С++. Работает на различных платформах


** Типы и структуры таблиц MySql

*** MyISAM
Каждая таблица хранится на диске в *трех* файлах (mysql/data)
  Имена сопадают с названием таблицы

  Расширения:
   1) .frm - содержится инфо о именах и типах столбцов и индексов
   2) .MYD - содержатся сами данные
   3) .MYI - содержатся индексы таблицы


Особенности
1. Хранение данные в кроссплатформенном формате
2. Максимальное кол-во индексов - 64. Каждый индекс может
   быть максимум из 16 столбцов
3. С версии MeSqL 4.1 для каждого текстового столбца может задаваться
   своя кодировка
4. Допускается индексирование текстовых столбцов, в том числе и
   переменной длины
5. Таблицы имеют спец флаг, указывающий на правильность закрытия
   таблицы. Если сервер был остановлен аварийно, то при загрузке незакрытые
   флаги будут сигнализировать о возможных повреждениях таблиц и сервер
   попытается автоматически их проверить и восстановить

При создании таблиц с использованием оператора CREATE TABLE можно **указать
тип таблицы** при помощи ключевого слова **ENGINE**

**ENGINE=MyISAM**

*** InnoDB
Появился с версии 5.5. Является типом по-умолчанию

Позволяет хранить в таблице до 1 ТБ данных
Нагрузка на сервер до 800 вставок/обновлений в секунду

Особенности:
1. По умолчанию хранит все таблицы в одном файле.
   Все таблицы зранятся в едином табличном пространстве,
   поэтому имена таблиц **должны быть уникальны**
2. Когда нужно, чтобы таблицы хранились в отдельных файлах,
   необходимо внести изменения в конфиг
3. Хранение данных в едином табличном пространстве
   позволяет снять ограничение на объем таблиц. Файл с таблицами
   может быть разбит на несколько частей и распределен по
   нескольким дискам или даже хостам
4. Таблицы поддерживают автоматическое восстановление после сбоя
5. Обеспечивается поддержка транзакций
6. Единственный тип таблиц, обспечивающий каскадное удаление
7. Таблицы типа Innodb надежнее MeISAM, но **уступают в скорости**

*** NDB Cluster

**Кластеризация** - разделение БД по нескольким серверам.
Цели - надежность и распределение нагрузки по серверам

NDB предназначен для кластеризации

*** Csv
обычный текстовый файл, записи в котором хранятся в строках,
а поля разделены точкой с запятой
При создании таблицы формируется два файла
 1) файл с расширением .frm, содержащим структуру таблицы
 2) файл с расширением CSV

** Типы данных

MySQL поддерживает все числовые типы SQL:
Точные
NUMERIC, DECIMAL, INTEGER, SMALLINT
Приближенные
FLOAT, REAL | DOUBLE PRECISION

Пример с DECIMAL:
DECIMAL(5,2)
5 - общее кол-во значащих знаков
2 - знаки после запятой

Максимальные значения:
от -999,99 до 999,99


Char [(длина)] - строка фиксированной длины
Длина по-умолчанию - 1, макс - 255
До указанной длины дописывается пробелами

Varchar (длина) - строка переменной длины
Макс - 255
В В противоположность CHAR используется то кол-во символов,
которое указано ПЛЮС 1 Байт для хранения длины

Date - Дата в фомате YYYY-MM-DD
TIME - Время в формате HH:mm:ss
TIMESTAMP - YYYYMMDDHHmmss
DATETIME - YYYY-MM-DD-HH-mm-ss

Date - 3 байта, диапозон - 1000-01-01 -- 999-12-31
TIME - 3 байта, дипозон - -828:59:59 -- 828:59:59
DATETIME - 8 байт
TIMESTAMP - для хранения даты и времени, кол-во секунд с 1 января 1970
            Диапозон - 1970-01-01 00:00:00 - 2038-12-31 00:00:00
	    Занимает 4 байта

** Синтаксис коментариев
#
--
/* */

** Ограничения целостности
UNIQUE
NOT NULL
PRIMARY KEY
FOREIGN KEY
REFERENCES

CHECK

** Workbench
PK -PRIMARY KEY
NN - NOT NULL
UQ - UNIQUE
BIN - бинарные данные
UN - UNSIGNED
ZF - ZERO FIELD заполнение нулями
AI - AUTO INCREMENTAL
G - значение генерируемое формулами
DEFAULT - значение по-умолчанию